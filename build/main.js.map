{"version":3,"file":"main.js","mappings":"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","sources":["webpack://hk-product-upgrades/./src/CreateUpgradeButton.js","webpack://hk-product-upgrades/./src/CreateUpgradeCategoryButton.js","webpack://hk-product-upgrades/./src/Notifications.js","webpack://hk-product-upgrades/./src/UpgradeItem.js","webpack://hk-product-upgrades/./src/UpgradeList.js","webpack://hk-product-upgrades/external window \"React\"","webpack://hk-product-upgrades/external window [\"wp\",\"components\"]","webpack://hk-product-upgrades/external window [\"wp\",\"coreData\"]","webpack://hk-product-upgrades/external window [\"wp\",\"data\"]","webpack://hk-product-upgrades/external window [\"wp\",\"element\"]","webpack://hk-product-upgrades/external window [\"wp\",\"htmlEntities\"]","webpack://hk-product-upgrades/external window [\"wp\",\"i18n\"]","webpack://hk-product-upgrades/external window [\"wp\",\"notices\"]","webpack://hk-product-upgrades/webpack/bootstrap","webpack://hk-product-upgrades/webpack/runtime/compat get default export","webpack://hk-product-upgrades/webpack/runtime/define property getters","webpack://hk-product-upgrades/webpack/runtime/hasOwnProperty shorthand","webpack://hk-product-upgrades/webpack/runtime/make namespace object","webpack://hk-product-upgrades/./src/main.js"],"sourcesContent":["import { __ } from \"@wordpress/i18n\";\r\nimport { useDispatch, useSelect } from \"@wordpress/data\";\r\nimport { store as coreDataStore } from \"@wordpress/core-data\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  Spinner,\r\n  TextControl,\r\n  SelectControl,\r\n} from \"@wordpress/components\";\r\nimport { useState, useEffect } from \"@wordpress/element\";\r\n\r\nexport default function CreateUpgradeButton({\r\n  categories,\r\n  hasCategoriesResolved,\r\n}) {\r\n  const [isOpen, setOpen] = useState(false);\r\n  const openModal = () => setOpen(true);\r\n  const closeModal = () => setOpen(false);\r\n  return (\r\n    <>\r\n      <Button onClick={openModal} variant=\"primary\">\r\n        {__(\"Uusi päivitys\", \"hk-product-upgrades\")}\r\n      </Button>\r\n      {isOpen && (\r\n        <Modal\r\n          onRequestClose={closeModal}\r\n          title={__(\"Luo uusi päivitys\", \"hk-product-upgrades\")}\r\n        >\r\n          <CreateUpgradeForm\r\n            onCancel={closeModal}\r\n            onSaveFinished={closeModal}\r\n            categories={categories}\r\n            hasCategoriesResolved={hasCategoriesResolved}\r\n          />\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction CreateUpgradeForm({\r\n  onCancel,\r\n  onSaveFinished,\r\n  categories,\r\n  hasCategoriesResolved,\r\n}) {\r\n  const [upgrade, setUpgrade] = useState({\r\n    title: \"\",\r\n    content: \"\",\r\n    price: \"\",\r\n    category: \"\",\r\n  });\r\n\r\n  const handleChange = (value, field) => {\r\n    setUpgrade((prev) => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"upgrade:\", upgrade);\r\n  }, [upgrade]);\r\n\r\n  const { saveEntityRecord } = useDispatch(coreDataStore);\r\n\r\n  const handleSave = async () => {\r\n    const savedRecord = await saveEntityRecord(\"postType\", \"product-upgrade\", {\r\n      title: upgrade.title,\r\n      content: upgrade.content,\r\n      meta: {\r\n        hkpu_price: upgrade.price,\r\n        hkpu_category: upgrade.category,\r\n      },\r\n      status: \"publish\",\r\n    });\r\n    if (savedRecord) {\r\n      console.log(\"Saved upgrade:\", savedRecord);\r\n      onSaveFinished();\r\n    }\r\n  };\r\n\r\n  const { lastError, isSaving } = useSelect(\r\n    (select) => ({\r\n      lastError: select(coreDataStore).getLastEntitySaveError(\r\n        \"postType\",\r\n        \"product-upgrade\"\r\n      ),\r\n      isSaving: select(coreDataStore).isSavingEntityRecord(\r\n        \"postType\",\r\n        \"product-upgrade\"\r\n      ),\r\n    }),\r\n    []\r\n  );\r\n\r\n  const categoryArray = categories?.map((category) => ({\r\n    label: category.name,\r\n    value: category.id,\r\n  }));\r\n\r\n  return (\r\n    <div>\r\n      {lastError && (\r\n        <div>\r\n          <p>\r\n            {__(\r\n              \"There was an error saving the upgrade. Please try again.\",\r\n              \"hk-product-upgrades\"\r\n            )}\r\n          </p>\r\n          <p>{lastError.message}</p>\r\n        </div>\r\n      )}\r\n      <TextControl\r\n        id=\"title\"\r\n        label={__(\"Title\", \"hk-product-upgrades\")}\r\n        value={upgrade.title}\r\n        onChange={(value) => handleChange(value, \"title\")}\r\n      />\r\n      {hasCategoriesResolved && categoryArray && (\r\n        <SelectControl\r\n          id=\"category\"\r\n          label={__(\"Category\", \"hk-product-upgrades\")}\r\n          value={upgrade.category}\r\n          options={[\r\n            {\r\n              label: __(\"No category\", \"hk-product-upgrades\"),\r\n              value: \"\",\r\n            },\r\n            ...categoryArray,\r\n          ]}\r\n          onChange={(value) => handleChange(value, \"category\")}\r\n        />\r\n      )}\r\n      {!categoryArray && <Spinner />}\r\n      <TextControl\r\n        id=\"content\"\r\n        label={__(\"Content\", \"hk-product-upgrades\")}\r\n        value={upgrade.content}\r\n        onChange={(value) => handleChange(value, \"content\")}\r\n      />\r\n      <TextControl\r\n        id=\"price\"\r\n        label={__(\"Price\", \"hk-product-upgrades\")}\r\n        value={upgrade.price}\r\n        onChange={(value) => handleChange(value, \"price\")}\r\n      />\r\n\r\n      <div>\r\n        <Button variant=\"primary\" onClick={handleSave}>\r\n          {isSaving ? (\r\n            <>\r\n              <Spinner />\r\n              {__(\"Tallentaa\", \"hk-product-upgrades\")}\r\n            </>\r\n          ) : (\r\n            __(\"Tallenna\", \"hk-product-upgrades\")\r\n          )}\r\n        </Button>\r\n        <Button onClick={onCancel}>\r\n          {__(\"Peruuta\", \"hk-product-upgrades\")}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { __ } from \"@wordpress/i18n\";\r\nimport { useDispatch, useSelect } from \"@wordpress/data\";\r\nimport { store as coreDataStore } from \"@wordpress/core-data\";\r\nimport { Button, Modal, Spinner, TextControl } from \"@wordpress/components\";\r\nimport { useState, useEffect } from \"@wordpress/element\";\r\n\r\nexport default function CreateUpgradeCategoryButton() {\r\n  const [isOpen, setOpen] = useState(false);\r\n  const openModal = () => setOpen(true);\r\n  const closeModal = () => setOpen(false);\r\n  return (\r\n    <>\r\n      <Button onClick={openModal} variant=\"primary\">\r\n        {__(\"Uusi kategoria\", \"hk-product-upgrades\")}\r\n      </Button>\r\n      {isOpen && (\r\n        <Modal\r\n          onRequestClose={closeModal}\r\n          title={__(\"Luo uusi päivityskategoria\", \"hk-product-upgrades\")}\r\n        >\r\n          <CreateUpgradeForm\r\n            onCancel={closeModal}\r\n            onSaveFinished={closeModal}\r\n          />\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction CreateUpgradeForm({ onCancel, onSaveFinished }) {\r\n  const [category, setCategory] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n  });\r\n\r\n  const handleChange = (value, field) => {\r\n    setCategory((prev) => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"Category changed\", category);\r\n  }, [category]);\r\n\r\n  const { saveEntityRecord } = useDispatch(coreDataStore);\r\n\r\n  const handleSave = async () => {\r\n    const savedRecord = await saveEntityRecord(\"taxonomy\", \"upgrade-category\", {\r\n      name: category.name,\r\n      description: category.description,\r\n      status: \"publish\",\r\n    });\r\n    if (savedRecord) {\r\n      console.log(\"Saved category:\", savedRecord);\r\n      onSaveFinished();\r\n    }\r\n  };\r\n\r\n  const { lastError, isSaving } = useSelect(\r\n    (select) => ({\r\n      lastError: select(coreDataStore).getLastEntitySaveError(\r\n        \"taxonomy\",\r\n        \"upgrade-category\"\r\n      ),\r\n      isSaving: select(coreDataStore).isSavingEntityRecord(\r\n        \"taxonomy\",\r\n        \"upgrade-category\"\r\n      ),\r\n    }),\r\n    []\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      {lastError && (\r\n        <div>\r\n          <p>\r\n            {__(\r\n              \"There was an error saving the upgrade. Please try again.\",\r\n              \"hk-product-upgrades\"\r\n            )}\r\n          </p>\r\n          <p>{lastError.message}</p>\r\n        </div>\r\n      )}\r\n      <TextControl\r\n        id=\"name\"\r\n        label={__(\"Nimi\", \"hk-product-upgrades\")}\r\n        value={category.name}\r\n        onChange={(value) => handleChange(value, \"name\")}\r\n        autoComplete=\"off\"\r\n      />\r\n      <TextControl\r\n        id=\"description\"\r\n        label={__(\"Kuvaus\", \"hk-product-upgrades\")}\r\n        value={category.description}\r\n        onChange={(value) => handleChange(value, \"description\")}\r\n        autoComplete=\"off\"\r\n      />\r\n\r\n      <div>\r\n        <Button variant=\"primary\" onClick={handleSave}>\r\n          {isSaving ? (\r\n            <>\r\n              <Spinner />\r\n              {__(\"Tallentaa\", \"hk-product-upgrades\")}\r\n            </>\r\n          ) : (\r\n            __(\"Tallenna\", \"hk-product-upgrades\")\r\n          )}\r\n        </Button>\r\n        <Button onClick={onCancel}>\r\n          {__(\"Peruuta\", \"hk-product-upgrades\")}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { SnackbarList } from \"@wordpress/components\";\r\nimport { useDispatch, useSelect } from \"@wordpress/data\";\r\nimport { store as noticesStore } from \"@wordpress/notices\";\r\n\r\nexport default function Notifications() {\r\n  const notices = useSelect((select) => select(noticesStore).getNotices(), []);\r\n  const { removeNotice } = useDispatch(noticesStore);\r\n  const snackbarNotices = notices.filter(({ type }) => type === \"snackbar\");\r\n\r\n  return (\r\n    <SnackbarList\r\n      className=\"components-editor-notices__snackbar\"\r\n      notices={snackbarNotices}\r\n      onRemove={removeNotice}\r\n    />\r\n  );\r\n}\r\n","import { TextControl, SelectControl, Button } from \"@wordpress/components\";\r\nimport { useSelect, useDispatch } from \"@wordpress/data\";\r\nimport { store as coreDataStore } from \"@wordpress/core-data\";\r\nimport { decodeEntities } from \"@wordpress/html-entities\";\r\nimport { useEffect, useState } from \"@wordpress/element\";\r\nimport { store as noticesStore } from \"@wordpress/notices\";\r\n\r\nexport default function UpgradeItem({ upgrade, upgradeCategories }) {\r\n  const { createSuccessNotice, createErrorNotice } = useDispatch(noticesStore);\r\n  const { editedUpgrade, lastError, isSaving, hasEdits } = useSelect(\r\n    (select) => {\r\n      return {\r\n        lastError: select(coreDataStore).getLastEntitySaveError(\r\n          \"postType\",\r\n          \"product-upgrade\",\r\n          upgrade.id\r\n        ),\r\n        isSaving: select(coreDataStore).isSavingEntityRecord(\r\n          \"postType\",\r\n          \"product-upgrade\",\r\n          upgrade.id\r\n        ),\r\n        hasEdits: select(coreDataStore).hasEditsForEntityRecord(\r\n          \"postType\",\r\n          \"product-upgrade\",\r\n          upgrade.id\r\n        ),\r\n        editedUpgrade: select(coreDataStore).getEditedEntityRecord(\r\n          \"postType\",\r\n          \"product-upgrade\",\r\n          upgrade.id\r\n        ),\r\n      };\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    console.log(\"editedUpgrade\", editedUpgrade);\r\n  }, [editedUpgrade]);\r\n\r\n  const { editEntityRecord, saveEditedEntityRecord } =\r\n    useDispatch(coreDataStore);\r\n\r\n  const categoryArray = upgradeCategories?.map((category) => ({\r\n    label: category.name,\r\n    value: category.id,\r\n  }));\r\n\r\n  const placeholderCategory = {\r\n    label: \"No category\",\r\n    value: \"\",\r\n  };\r\n\r\n  const handleTitleChange = (title) => {\r\n    editEntityRecord(\"postType\", \"product-upgrade\", editedUpgrade.id, {\r\n      title,\r\n    });\r\n  };\r\n  const handleCategoryChange = (category) => {\r\n    editEntityRecord(\"postType\", \"product-upgrade\", editedUpgrade.id, {\r\n      meta: {\r\n        hkpu_category: category,\r\n      },\r\n      terms: {\r\n        \"upgrade-category\": [category],\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleContentChange = (content) => {\r\n    editEntityRecord(\"postType\", \"product-upgrade\", editedUpgrade.id, {\r\n      content,\r\n    });\r\n  };\r\n\r\n  const handlePriceChange = (price) => {\r\n    if (!isNaN(price) && price >= 0) {\r\n      editEntityRecord(\"postType\", \"product-upgrade\", editedUpgrade.id, {\r\n        meta: {\r\n          hkpu_price: price,\r\n        },\r\n      });\r\n    } else {\r\n      createErrorNotice(\"Price must be a positive number\");\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    const savedRecord = await saveEditedEntityRecord(\r\n      \"postType\",\r\n      \"product-upgrade\",\r\n      editedUpgrade.id\r\n    );\r\n    if (savedRecord) {\r\n      console.log(\"Saved upgrade:\", savedRecord);\r\n    }\r\n  };\r\n\r\n  console.log(\"array\", categoryArray);\r\n  return (\r\n    <>\r\n      <tr key={editedUpgrade.id}>\r\n        <td>\r\n          <TextControl\r\n            id=\"upgrade-title\"\r\n            value={decodeEntities(editedUpgrade.title)}\r\n            onChange={handleTitleChange}\r\n          />\r\n        </td>\r\n        <td>\r\n          <TextControl\r\n            id=\"upgrade-content\"\r\n            value={decodeEntities(editedUpgrade.content)}\r\n            onChange={handleContentChange}\r\n          />\r\n        </td>\r\n        <td>\r\n          <SelectControl\r\n            id=\"upgrade-category\"\r\n            value={editedUpgrade.meta.hkpu_category}\r\n            options={categoryArray ? categoryArray : []}\r\n            onChange={handleCategoryChange}\r\n          />\r\n        </td>\r\n        <td>\r\n          <TextControl\r\n            id=\"upgrade-price\"\r\n            value={editedUpgrade.meta.hkpu_price}\r\n            onChange={handlePriceChange}\r\n          />\r\n        </td>\r\n        <td>\r\n          <Button variant=\"primary\" disabled={!hasEdits} onClick={handleSave}>\r\n            Save\r\n          </Button>\r\n          <DeleteUpgradeButton upgradeId={editedUpgrade.id} />\r\n        </td>\r\n      </tr>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction DeleteUpgradeButton({ upgradeId }) {\r\n  const { deleteEntityRecord } = useDispatch(coreDataStore);\r\n\r\n  const handleDelete = async () => {\r\n    const deletedRecord = await deleteEntityRecord(\r\n      \"postType\",\r\n      \"product-upgrade\",\r\n      upgradeId\r\n    );\r\n    if (deletedRecord) {\r\n      console.log(\"Upgrade deleted\", upgradeId);\r\n    }\r\n  };\r\n  return (\r\n    <Button isDestructive onClick={handleDelete}>\r\n      Delete\r\n    </Button>\r\n  );\r\n}\r\n","import { Spinner, Button, Modal } from \"@wordpress/components\";\r\nimport { useDispatch, useSelect } from \"@wordpress/data\";\r\nimport { store as coreDataStore } from \"@wordpress/core-data\";\r\nimport { useState } from \"@wordpress/element\";\r\nimport UpgradeItem from \"./UpgradeItem\";\r\n\r\nexport default function UpgradeList({\r\n  upgrades,\r\n  hasResolved,\r\n  upgradeCategories,\r\n  hasCategoriesResolved,\r\n}) {\r\n  if (!hasResolved || !hasCategoriesResolved) {\r\n    return <Spinner />;\r\n  }\r\n\r\n  if (!upgrades?.length) {\r\n    return <p>No upgrades found</p>;\r\n  }\r\n\r\n  return (\r\n    <table className=\"wp-list-table widefat fixed striped table-view-list\">\r\n      <thead>\r\n        <tr>\r\n          <th>Title</th>\r\n          <th>Content</th>\r\n          <th>Category</th>\r\n          <th style={{ width: 50 }}>Price</th>\r\n          <th style={{ width: 190 }}>Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {upgrades?.map((upgrade) => (\r\n          <UpgradeItem\r\n            key={upgrade.id}\r\n            upgrade={upgrade}\r\n            upgradeCategories={upgradeCategories}\r\n          />\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nfunction EditUpgradeButton({ upgradeId }) {\r\n  const [isOpen, setOpen] = useState(false);\r\n  const openModal = () => setOpen(true);\r\n  const closeModal = () => setOpen(false);\r\n\r\n  const { upgrade, lastError, isSaving, hasEdits } = useSelect(\r\n    (select) => ({\r\n      upgrade: select(coreDataStore).getEditedEntityRecord(\r\n        \"postType\",\r\n        \"product-upgrade\",\r\n        upgradeId\r\n      ),\r\n      lastError: select(coreDataStore).getLastEntitySaveError(\r\n        \"postType\",\r\n        \"product-upgrade\",\r\n        upgradeId\r\n      ),\r\n      isSaving: select(coreDataStore).isSavingEntityRecord(\r\n        \"postType\",\r\n        \"product-upgrade\",\r\n        upgradeId\r\n      ),\r\n      hasEdits: select(coreDataStore).hasEditsForEntityRecord(\r\n        \"postType\",\r\n        \"product-upgrade\",\r\n        upgradeId\r\n      ),\r\n    }),\r\n    [upgradeId]\r\n  );\r\n\r\n  const handleEdit = () => {\r\n    console.log(\"Edited upgrade:\", upgrade);\r\n  };\r\n  return (\r\n    <>\r\n      <Button variant=\"primary\" onClick={openModal}>\r\n        Edit\r\n      </Button>\r\n      {isOpen && (\r\n        <Modal onRequestClose={closeModal} title=\"Edit upgrade\">\r\n          <p>Editing upgrade {upgradeId}</p>\r\n          <Button onClick={handleEdit}>Save</Button>\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { render } from \"@wordpress/element\";\r\nimport { __ } from \"@wordpress/i18n\";\r\nimport { SearchControl } from \"@wordpress/components\";\r\nimport { useSelect } from \"@wordpress/data\";\r\nimport { store as coreDataStore } from \"@wordpress/core-data\";\r\nimport { useEffect, useState, memo } from \"@wordpress/element\";\r\nimport UpgradeList from \"./UpgradeList\";\r\nimport CreateUpgradeButton from \"./CreateUpgradeButton\";\r\nimport CreateUpgradeCategoryButton from \"./CreateUpgradeCategoryButton\";\r\nimport Notifications from \"./Notifications\";\r\nconst MemoizedUpgradeList = memo(UpgradeList);\r\n\r\nfunction App() {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [filteredUpgrades, setFilteredUpgrades] = useState([]);\r\n  const { upgrades, hasResolved } = useSelect((select) => {\r\n    const selectorArgs = [\"postType\", \"product-upgrade\"];\r\n    return {\r\n      upgrades: select(coreDataStore).getEntityRecords(...selectorArgs),\r\n      hasResolved: select(coreDataStore).hasFinishedResolution(\r\n        \"getEntityRecords\",\r\n        selectorArgs\r\n      ),\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (upgrades) {\r\n      const results = upgrades.filter((upgrade) => {\r\n        const title = upgrade.title.rendered.toLowerCase();\r\n        return title.includes(searchTerm.toLowerCase());\r\n      });\r\n      setFilteredUpgrades(results);\r\n    }\r\n  }, [searchTerm, upgrades]);\r\n\r\n  const { upgradeCategories, hasResolved: hasCategoriesResolved } = useSelect(\r\n    (select) => {\r\n      return {\r\n        upgradeCategories: select(coreDataStore).getEntityRecords(\r\n          \"taxonomy\",\r\n          \"upgrade-category\"\r\n        ),\r\n        hasResolved: select(coreDataStore).hasFinishedResolution(\r\n          \"getEntityRecords\",\r\n          [\"taxonomy\", \"upgrade-category\"]\r\n        ),\r\n      };\r\n    }\r\n  );\r\n\r\n  return (\r\n    <div className=\"product-upgrade-app\">\r\n      <Notifications />\r\n      <div className=\"upgrade-controls\">\r\n        <SearchControl\r\n          label={__(\"Search upgrades\", \"hk-product-upgrades\")}\r\n          value={searchTerm}\r\n          onChange={setSearchTerm}\r\n        />\r\n        <CreateUpgradeButton\r\n          categories={upgradeCategories}\r\n          hasCategoriesResolved={hasCategoriesResolved}\r\n        />\r\n        <CreateUpgradeCategoryButton />\r\n      </div>\r\n      <MemoizedUpgradeList\r\n        upgrades={filteredUpgrades}\r\n        hasResolved={hasResolved}\r\n        upgradeCategories={upgradeCategories}\r\n        hasCategoriesResolved={hasCategoriesResolved}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nwindow.addEventListener(\r\n  \"load\",\r\n  function () {\r\n    render(<App />, document.querySelector(\"#hk-product-upgrades\"));\r\n  },\r\n  false\r\n);\r\n"],"names":["__","useDispatch","useSelect","store","coreDataStore","Button","Modal","Spinner","TextControl","SelectControl","useState","useEffect","CreateUpgradeButton","categories","hasCategoriesResolved","isOpen","setOpen","openModal","closeModal","createElement","Fragment","onClick","variant","onRequestClose","title","CreateUpgradeForm","onCancel","onSaveFinished","upgrade","setUpgrade","content","price","category","handleChange","value","field","prev","console","log","saveEntityRecord","handleSave","savedRecord","meta","hkpu_price","hkpu_category","status","lastError","isSaving","select","getLastEntitySaveError","isSavingEntityRecord","categoryArray","map","label","name","id","message","onChange","options","CreateUpgradeCategoryButton","setCategory","description","autoComplete","SnackbarList","noticesStore","Notifications","notices","getNotices","removeNotice","snackbarNotices","filter","type","className","onRemove","decodeEntities","UpgradeItem","upgradeCategories","createSuccessNotice","createErrorNotice","editedUpgrade","hasEdits","hasEditsForEntityRecord","getEditedEntityRecord","editEntityRecord","saveEditedEntityRecord","placeholderCategory","handleTitleChange","handleCategoryChange","terms","handleContentChange","handlePriceChange","isNaN","key","disabled","DeleteUpgradeButton","upgradeId","deleteEntityRecord","handleDelete","deletedRecord","isDestructive","UpgradeList","upgrades","hasResolved","length","style","width","EditUpgradeButton","handleEdit","render","SearchControl","memo","MemoizedUpgradeList","App","searchTerm","setSearchTerm","filteredUpgrades","setFilteredUpgrades","selectorArgs","getEntityRecords","hasFinishedResolution","results","rendered","toLowerCase","includes","window","addEventListener","document","querySelector"],"sourceRoot":""}