{"version":3,"file":"frontend.js","mappings":";;;;;AAAA,MAAMA,MAAM,GAAGC,QAAQ,CAACC,gBAAgB,CACtC,sCACF,CAAC;AACD,MAAMC,mBAAmB,GAAGF,QAAQ,CAACG,aAAa,CAChD,+BACF,CAAC;AAED,IAAIJ,MAAM,CAACK,MAAM,IAAIF,mBAAmB,EAAE;EACxC,MAAMG,mBAAmB,GAAGL,QAAQ,CAACG,aAAa,CAChD,yDACF,CAAC;EACD,IAAIG,YAAY;EAChB,IAAID,mBAAmB,EAAE;IACvBC,YAAY,GAAGC,UAAU,CACvBF,mBAAmB,CAACG,WAAW,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG,CAClD,CAAC;EACH;EAEA,MAAMC,SAAS,GAAGH,UAAU,CAC1BL,mBAAmB,CAACM,WAAW,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG,CAClD,CAAC;EACD,MAAME,WAAW,GAAGT,mBAAmB,CAACU,SAAS,CAACC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEpEd,MAAM,CAACe,OAAO,CAAEC,KAAK,IAAK;IACxBA,KAAK,CAACC,gBAAgB,CAAC,QAAQ,EAAGC,KAAK,IAAK;MAC1CC,gBAAgB,CAAC,CAAC;IACpB,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,SAASA,gBAAgBA,CAAA,EAAG;IAC1B,MAAMC,aAAa,GAAGnB,QAAQ,CAACC,gBAAgB,CAC7C,8CACF,CAAC;IACD,IAAImB,UAAU,GAAG,CAAC;IAClBD,aAAa,CAACL,OAAO,CAAEC,KAAK,IAAK;MAC/BK,UAAU,IAAIb,UAAU,CAACQ,KAAK,CAACM,OAAO,CAACC,KAAK,CAACb,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IACjE,CAAC,CAAC;IAEF,MAAMc,KAAK,GAAGb,SAAS,GAAGU,UAAU;IACpClB,mBAAmB,CAACU,SAAS,GAAGW,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGb,WAAW;IAEpE,IAAI,CAACN,mBAAmB,EAAE;IAE1B,MAAMoB,YAAY,GAAGnB,YAAY,GAAGc,UAAU;IAC9Cf,mBAAmB,CAACO,SAAS,GAAGa,YAAY,CAACD,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGb,WAAW;EAC7E;AACF,C","sources":["webpack://hk-product-upgrades/./src/frontend.js"],"sourcesContent":["const inputs = document.querySelectorAll(\r\n  'input[name^=\"hkpu_product_upgrade_\"]'\r\n);\r\nconst initialPriceElement = document.querySelector(\r\n  \".woocommerce-Price-amount bdi\"\r\n);\r\n\r\nif (inputs.length && initialPriceElement) {\r\n  const taxFreePriceElement = document.querySelector(\r\n    \".woocommerce-price-suffix .woocommerce-Price-amount bdi\"\r\n  );\r\n  let taxFreePrice;\r\n  if (taxFreePriceElement) {\r\n    taxFreePrice = parseFloat(\r\n      taxFreePriceElement.textContent.replace(\",\", \".\")\r\n    );\r\n  }\r\n\r\n  const basePrice = parseFloat(\r\n    initialPriceElement.textContent.replace(\",\", \".\")\r\n  );\r\n  const priceSuffix = initialPriceElement.innerHTML.split(\"&nbsp;\")[1];\r\n\r\n  inputs.forEach((input) => {\r\n    input.addEventListener(\"change\", (event) => {\r\n      updateTotalPrice();\r\n    });\r\n  });\r\n\r\n  function updateTotalPrice() {\r\n    const checkedInputs = document.querySelectorAll(\r\n      'input[name^=\"hkpu_product_upgrade_\"]:checked'\r\n    );\r\n    let totalPrice = 0;\r\n    checkedInputs.forEach((input) => {\r\n      totalPrice += parseFloat(input.dataset.price.replace(\",\", \".\"));\r\n    });\r\n\r\n    const total = basePrice + totalPrice;\r\n    initialPriceElement.innerHTML = total.toFixed(2) + \" \" + priceSuffix;\r\n\r\n    if (!taxFreePriceElement) return;\r\n\r\n    const taxFreeTotal = taxFreePrice + totalPrice;\r\n    taxFreePriceElement.innerHTML = taxFreeTotal.toFixed(2) + \" \" + priceSuffix;\r\n  }\r\n}\r\n"],"names":["inputs","document","querySelectorAll","initialPriceElement","querySelector","length","taxFreePriceElement","taxFreePrice","parseFloat","textContent","replace","basePrice","priceSuffix","innerHTML","split","forEach","input","addEventListener","event","updateTotalPrice","checkedInputs","totalPrice","dataset","price","total","toFixed","taxFreeTotal"],"sourceRoot":""}