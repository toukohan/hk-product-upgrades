{"version":3,"file":"frontend.js","mappings":";;;;;AAAA,MAAMA,MAAM,GAAGC,QAAQ,CAACC,gBAAgB,CACtC,sCACF,CAAC;AACD,MAAMC,mBAAmB,GAAGF,QAAQ,CAACG,aAAa,CAChD,+BACF,CAAC;AAED,IAAIJ,MAAM,CAACK,MAAM,IAAIF,mBAAmB,EAAE;EACxC,MAAMG,mBAAmB,GAAGL,QAAQ,CAACG,aAAa,CAChD,yDACF,CAAC;EAED,MAAMG,SAAS,GAAGC,UAAU,CAC1BL,mBAAmB,CAACM,WAAW,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG,CAClD,CAAC;EACD,MAAMC,WAAW,GAAGR,mBAAmB,CAACS,SAAS,CAACC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEpEb,MAAM,CAACc,OAAO,CAAEC,KAAK,IAAK;IACxBA,KAAK,CAACC,gBAAgB,CAAC,QAAQ,EAAGC,KAAK,IAAK;MAC1CC,gBAAgB,CAAC,CAAC;IACpB,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,SAASA,gBAAgBA,CAAA,EAAG;IAC1B,MAAMC,aAAa,GAAGlB,QAAQ,CAACC,gBAAgB,CAC7C,8CACF,CAAC;IACD,IAAIkB,UAAU,GAAG,CAAC;IAClBD,aAAa,CAACL,OAAO,CAAEC,KAAK,IAAK;MAC/BK,UAAU,IAAIZ,UAAU,CAACO,KAAK,CAACM,OAAO,CAACC,KAAK,CAACZ,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IACjE,CAAC,CAAC;IAEF,MAAMa,KAAK,GAAGhB,SAAS,GAAGa,UAAU;IACpCjB,mBAAmB,CAACS,SAAS,GAAGW,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGb,WAAW;IAEpE,IAAI,CAACL,mBAAmB,EAAE;IAC1B,MAAMmB,YAAY,GAAGjB,UAAU,CAC7BF,mBAAmB,CAACG,WAAW,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG,CAClD,CAAC;IACD,MAAMgB,YAAY,GAAGD,YAAY,GAAGL,UAAU;IAC9Cd,mBAAmB,CAACM,SAAS,GAAGc,YAAY,CAACF,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGb,WAAW;EAC7E;AACF,C","sources":["webpack://hk-product-upgrades/./src/frontend.js"],"sourcesContent":["const inputs = document.querySelectorAll(\r\n  'input[name^=\"hkpu_product_upgrade_\"]'\r\n);\r\nconst initialPriceElement = document.querySelector(\r\n  \".woocommerce-Price-amount bdi\"\r\n);\r\n\r\nif (inputs.length && initialPriceElement) {\r\n  const taxFreePriceElement = document.querySelector(\r\n    \".woocommerce-price-suffix .woocommerce-Price-amount bdi\"\r\n  );\r\n\r\n  const basePrice = parseFloat(\r\n    initialPriceElement.textContent.replace(\",\", \".\")\r\n  );\r\n  const priceSuffix = initialPriceElement.innerHTML.split(\"&nbsp;\")[1];\r\n\r\n  inputs.forEach((input) => {\r\n    input.addEventListener(\"change\", (event) => {\r\n      updateTotalPrice();\r\n    });\r\n  });\r\n\r\n  function updateTotalPrice() {\r\n    const checkedInputs = document.querySelectorAll(\r\n      'input[name^=\"hkpu_product_upgrade_\"]:checked'\r\n    );\r\n    let totalPrice = 0;\r\n    checkedInputs.forEach((input) => {\r\n      totalPrice += parseFloat(input.dataset.price.replace(\",\", \".\"));\r\n    });\r\n\r\n    const total = basePrice + totalPrice;\r\n    initialPriceElement.innerHTML = total.toFixed(2) + \" \" + priceSuffix;\r\n\r\n    if (!taxFreePriceElement) return;\r\n    const taxFreePrice = parseFloat(\r\n      taxFreePriceElement.textContent.replace(\",\", \".\")\r\n    );\r\n    const taxFreeTotal = taxFreePrice + totalPrice;\r\n    taxFreePriceElement.innerHTML = taxFreeTotal.toFixed(2) + \" \" + priceSuffix;\r\n  }\r\n}\r\n"],"names":["inputs","document","querySelectorAll","initialPriceElement","querySelector","length","taxFreePriceElement","basePrice","parseFloat","textContent","replace","priceSuffix","innerHTML","split","forEach","input","addEventListener","event","updateTotalPrice","checkedInputs","totalPrice","dataset","price","total","toFixed","taxFreePrice","taxFreeTotal"],"sourceRoot":""}